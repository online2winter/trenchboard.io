{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Log = void 0;\nclass Log {\n  constructor(prefix, enabled, logWriter) {\n    this.css = '';\n    this.MAX_ENTRIES = 100;\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    if (logWriter) {\n      this.logWriter = logWriter;\n    }\n  }\n  setColors(colors) {\n    this.css = typeof window !== 'undefined' && colors[this.prefix] ? colors[this.prefix] : '';\n  }\n  addMessage({\n    level,\n    prefix,\n    timestamp\n  }, ...args) {\n    const message = {\n      level,\n      prefix,\n      css: this.css,\n      message: args,\n      timestamp: timestamp || Date.now()\n    };\n    this.messages.push(message);\n    if (this.logWriter) {\n      try {\n        this.logWriter.add(message);\n      } catch (err) {\n        console.error('There was an error adding log message', err, message);\n      }\n    }\n    if (this.messages.length > this.MAX_ENTRIES) {\n      this.messages.shift();\n    }\n  }\n  setWriter(logWriter) {\n    this.logWriter = logWriter;\n  }\n  log(...args) {\n    this.addMessage({\n      level: 'log',\n      prefix: this.prefix\n    }, ...args);\n    if (this.enabled) {\n      console.log(`%c${this.prefix}`, this.css, ...args);\n    }\n  }\n  error(...args) {\n    this.addMessage({\n      level: 'error',\n      prefix: this.prefix\n    }, ...args);\n    if (this.enabled) {\n      console.error(`%c${this.prefix}`, this.css, ...args);\n    }\n  }\n  info(...args) {\n    this.addMessage({\n      level: 'info',\n      prefix: this.prefix\n    }, ...args);\n    if (this.enabled) {\n      console.info(`%c${this.prefix}`, this.css, ...args);\n    }\n  }\n  warn(...args) {\n    this.addMessage({\n      level: 'warn',\n      prefix: this.prefix\n    }, ...args);\n    if (this.enabled) {\n      console.warn(`%c${this.prefix}`, this.css, ...args);\n    }\n  }\n  debug(...args) {\n    this.addMessage({\n      level: 'debug',\n      prefix: this.prefix\n    }, ...args);\n    if (this.enabled) {\n      if (this.css) {\n        console.log(`%c${this.prefix}`, this.css, ...args);\n      } else {\n        console.log(this.prefix, ...args);\n      }\n    }\n  }\n  getLog() {\n    return this.messages;\n  }\n}\nexports.Log = Log;","map":{"version":3,"names":["Object","defineProperty","exports","value","Log","constructor","prefix","enabled","logWriter","css","MAX_ENTRIES","messages","setColors","colors","window","addMessage","level","timestamp","args","message","Date","now","push","add","err","console","error","length","shift","setWriter","log","info","warn","debug","getLog"],"sources":["/Users/papa/Desktop/trenchboard/trenchboard.io/node_modules/@trezor/utils/lib/logs.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Log = void 0;\nclass Log {\n    constructor(prefix, enabled, logWriter) {\n        this.css = '';\n        this.MAX_ENTRIES = 100;\n        this.prefix = prefix;\n        this.enabled = enabled;\n        this.messages = [];\n        if (logWriter) {\n            this.logWriter = logWriter;\n        }\n    }\n    setColors(colors) {\n        this.css = typeof window !== 'undefined' && colors[this.prefix] ? colors[this.prefix] : '';\n    }\n    addMessage({ level, prefix, timestamp }, ...args) {\n        const message = {\n            level,\n            prefix,\n            css: this.css,\n            message: args,\n            timestamp: timestamp || Date.now(),\n        };\n        this.messages.push(message);\n        if (this.logWriter) {\n            try {\n                this.logWriter.add(message);\n            }\n            catch (err) {\n                console.error('There was an error adding log message', err, message);\n            }\n        }\n        if (this.messages.length > this.MAX_ENTRIES) {\n            this.messages.shift();\n        }\n    }\n    setWriter(logWriter) {\n        this.logWriter = logWriter;\n    }\n    log(...args) {\n        this.addMessage({ level: 'log', prefix: this.prefix }, ...args);\n        if (this.enabled) {\n            console.log(`%c${this.prefix}`, this.css, ...args);\n        }\n    }\n    error(...args) {\n        this.addMessage({ level: 'error', prefix: this.prefix }, ...args);\n        if (this.enabled) {\n            console.error(`%c${this.prefix}`, this.css, ...args);\n        }\n    }\n    info(...args) {\n        this.addMessage({ level: 'info', prefix: this.prefix }, ...args);\n        if (this.enabled) {\n            console.info(`%c${this.prefix}`, this.css, ...args);\n        }\n    }\n    warn(...args) {\n        this.addMessage({ level: 'warn', prefix: this.prefix }, ...args);\n        if (this.enabled) {\n            console.warn(`%c${this.prefix}`, this.css, ...args);\n        }\n    }\n    debug(...args) {\n        this.addMessage({ level: 'debug', prefix: this.prefix }, ...args);\n        if (this.enabled) {\n            if (this.css) {\n                console.log(`%c${this.prefix}`, this.css, ...args);\n            }\n            else {\n                console.log(this.prefix, ...args);\n            }\n        }\n    }\n    getLog() {\n        return this.messages;\n    }\n}\nexports.Log = Log;\n//# sourceMappingURL=logs.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}